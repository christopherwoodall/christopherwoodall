<div class="profile-container">
  <img src="https://github.com/{{ site.github_username }}.png" alt="{{ site.github_username }}" class="profile-img">
  <h2>{{ site.title }}</h2>
  <p class="description">{{ site.description }}</p>
</div>

<nav class="sidebar-nav">
  <hr>
  <ul>
    <li><a href="{{ "/" | relative_url }}">Blog/Home</a></li>
  </ul>

    <p class="sidebar-heading">Technical Notes</p>

    <ul class="nested-nav">
    {% comment %} 
        1. Create a unique list of folder names (topics) 
    {% endcomment %}
    {% assign topics = "" | split: "" %}
    {% for note in site.notes %}
        {% assign path_parts = note.relative_path | split: "/" %}
        {% if path_parts.size > 2 %}
        {% assign folder_name = path_parts[1] %}
        {% unless topics contains folder_name %}
            {% assign topics = topics | push: folder_name %}
        {% endunless %}
        {% endif %}
    {% endfor %}

    {% comment %} 
        2. Loop through the folders and list their notes 
    {% endcomment %}
    {% for topic in topics %}
        <li class="topic-title">
        {{ topic | replace: "-", " " | capitalize }}
        <ul>
            {% for note in site.notes %}
            {% assign note_parts = note.relative_path | split: "/" %}
            {% if note_parts[1] == topic %}
                <li>
                <a href="{{ note.url | relative_url }}">{{ note.title | default: note_parts.last }}</a>
                </li>
            {% endif %}
            {% endfor %}
        </ul>
        </li>
    {% endfor %}
    </ul>

  <hr>
  <p class="sidebar-heading">Socials</p>
  <ul>
    <li><a href="https://github.com/{{ site.github_username }}" target="_blank">GitHub</a></li>
    <li><a href="https://linkedin.com/in/{{ site.linkedin_username }}" target="_blank">LinkedIn</a></li>
  </ul>
</nav>